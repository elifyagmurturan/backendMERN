{"code":"module.exports=function(e){var r={};function t(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&r&&\"string\"!=typeof e)for(var a in e)t.d(o,a,function(r){return e[r]}.bind(null,a));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,\"a\",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p=\"/dist/\",t(t.s=23)}([function(e,r){e.exports=function(e){if(!e.webpackPolyfill){var r=Object.create(e);r.children||(r.children=[]),Object.defineProperty(r,\"loaded\",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(r,\"id\",{enumerable:!0,get:function(){return r.i}}),Object.defineProperty(r,\"exports\",{enumerable:!0}),r.webpackPolyfill=1}return r}},function(e,r,t){\"use strict\";(function(e){var t;(t=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o={env:\"production\",port:process.env.PORT||3e3,jwtSecret:process.env.JWT_SECRET||\"YOUR_secret_key\",mongoUri:process.env.MONGODB_URI||process.env.MONGO_HOST||\"mongodb://\"+(process.env.IP||\"localhost\")+\":\"+(process.env.MONGO_PORT||\"27017\")+\"/mernproject\"},a=o;var s,n;r.a=a,(s=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(o,\"config\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/config/config.js\"),s.register(a,\"default\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/config/config.js\")),(n=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&n(e)}).call(this,t(0)(e))},function(e,r){e.exports=require(\"express\")},function(e,r){e.exports=require(\"mongoose\")},function(e,r,t){\"use strict\";(function(e){var o,a=t(5),s=t(19),n=t.n(s),l=t(6);(o=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=async(e,r)=>{const t=new a.a(e.body);try{return await t.save(),r.status(\"200\").json({message:\"Successfully signed up!\"})}catch(e){return r.status(\"400\").json({error:l.a.getErrorMessage(e)})}},d=async(e,r)=>{try{let e=await a.a.find().select(\"name email updated created\");r.json(e)}catch(e){return r.status(\"400\").json({error:l.a.getErrorMessage(e)})}},c=async(e,r,t,o)=>{try{let s=await a.a.findById(o);if(!s)return r.status(\"400\").json({error:\"User not found\"});e.profile=s,t()}catch(e){return r.status(\"400\").json({error:\"Could not retrieve user\"})}},u=(e,r)=>(e.profile.hashed_password=void 0,e.profilel.salt=void 0,r.json(e.profile)),f=async(e,r)=>{try{let t=e.profile;t=n()(t,e.body),t.updated=Date.now(),await t.save(),t.hashed_password=void 0,t.salt=void 0,r.json(t)}catch(e){return r.status(400).json({error:l.a.getErrorMessage(e)})}},p=async(e,r)=>{try{let t=e.profile,o=await t.remove();o.hashed_password=void 0,o.salt=void 0,r.json(o)}catch(e){return r.status(\"400\").json({error:l.a.getErrorMessage(e)})}},b={create:i,list:d,userByID:c,read:u,update:f,remove:p};var v,g;r.a=b,(v=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(i,\"create\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/user.controller.js\"),v.register(d,\"list\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/user.controller.js\"),v.register(c,\"userByID\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/user.controller.js\"),v.register(u,\"read\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/user.controller.js\"),v.register(f,\"update\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/user.controller.js\"),v.register(p,\"remove\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/user.controller.js\"),v.register(b,\"default\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/user.controller.js\")),(g=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)}).call(this,t(0)(e))},function(e,r,t){\"use strict\";(function(e){var o,a=t(3),s=t.n(a);(o=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const n=new s.a.Schema({name:{type:String,trim:!0,required:\"Name is required\"},email:{type:String,trim:!0,unique:\"Email already exists\",match:[/.+\\@.+\\..+/,\"Please fill a valid email address\"],required:\"Email is required\"},created:{type:Date,default:Date.now},updated:Date,hashed_password:{type:String,required:\"Password is required\"},salt:String});n.virtual(\"password\").set((function(e){this._password=e,this.salt=this.makeSalt(),this.hashed_password=this.encryptPassword(e)})).get((function(){return this._password})),n.path(\"hashed_password\").validate((function(e){this._password&&this._password.length<6&&this.invalidate(\"password\",\"Password must be at least 6 characters.\"),this.isNew&&!this._password&&this.invalidate(\"password\",\"Password is required\")}),null),n.methods={authenticate:function(e){return this.encryptPassword(e)===this.hashed_password},encryptPassword:function(e){if(!e)return\" \";try{return crypto.createHmac(\"sha1\",this.salt).update(e).digest(\"hex\")}catch(e){return\" \"}},makeSalt:function(){return Math.round((new Date).valueOf()*Math.random())+\"\"}};const l=s.a.model(\"User\",n);var i,d;r.a=l,(i=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(n,\"UserSchema\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/models/user.model.js\"),i.register(l,\"default\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/models/user.model.js\")),(d=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,t(0)(e))},function(e,r,t){\"use strict\";(function(e){var t;(t=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=e=>{let r=\"\";if(e.code)switch(e.code){case 11e3:case 11001:r=a(e);break;default:r=\"Something went wrong\"}else for(let t in e.errors)e.errors[t].message&&(r=e.errors[t].message);return r},a=e=>{let r;try{let t=e.message.substring(e.message,lasIndexOf(\".$\")+2,e.message.lastIndexOf(\"_1\"));r=t.charAt(0).toUpperCase()+t.slice(1)+\" already exists\"}catch(e){r=\"Unique field already exists\"}return r},s={getErrorMessage:o};var n,l;r.a=s,(n=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(o,\"getErrorMessage\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/helpers/dbErrorHandler.js\"),n.register(a,\"getUniqueErrorMessage\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/helpers/dbErrorHandler.js\"),n.register(s,\"default\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/helpers/dbErrorHandler.js\")),(l=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)}).call(this,t(0)(e))},function(e,r,t){\"use strict\";(function(e){var o,a=t(5),s=t(20),n=t.n(s),l=(t(26),t(1));(o=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const i=async(e,r)=>{try{let t=await a.a.findOne({email:e.body.email});if(!t)return r.status(\"401\").json({error:\"User not found\"});if(!t.authenticate(e.body.password))return r.status(\"401\").send({error:\"Email and password don't match.\"});const o=n.a.sign({_id:t._id},l.a.jwtSecret);return r.cookie(\"t\",o,{expire:new Date+9999}),r.json({token:o,user:{_id:t._id,name:t.name,email:t.email}})}catch(e){return r.status(\"401\").json({error:\"Could not sign in\"})}},d=(e,r)=>(r.clearCookie(\"t\"),r.status(\"200\").json({message:\"Signed out\"})),c=e=>({secret:l.a.jwtSecret,userProperty:\"auth\"}),u=(e,r,t)=>{if(!(e.profile&&e.auth&&e.profile._id==e.auth._id))return r.status(\"403\").json({error:\"User is not authorized\"});t()},f={signin:i,signout:d,requireSignin:c,hasAuthorization:u};var p,b;r.a=f,(p=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(i,\"signin\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/auth.controller.js\"),p.register(d,\"signout\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/auth.controller.js\"),p.register(c,\"requireSignin\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/auth.controller.js\"),p.register(u,\"hasAuthorization\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/auth.controller.js\"),p.register(f,\"default\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/controllers/auth.controller.js\")),(b=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,t(0)(e))},function(e,r){e.exports=require(\"webpack\")},function(e,r){e.exports=require(\"path\")},function(e,r){e.exports=require(\"body-parser\")},function(e,r){e.exports=require(\"webpack-hot-middleware\")},function(e,r,t){(function(e){var r;(r=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=t(9),a=t(8),s=process.cwd(),n={name:\"browser\",mode:\"development\",devtool:\"eval-source-map\",entry:[\"react-hot-loader/patch\",\"webpack-hot-middleware/client?reload=true\",o.join(s,\"client/main.js\")],output:{path:o.join(s,\"/dist\"),filename:\"bundle.js\",publicPath:\"/dist/\"},module:{rules:[{test:/\\.jsx?$/,exclude:/node_modules/,use:[\"babel-loader\"]},{test:/\\.(ttf|eot|svg|gif|jpg|png)(\\?[\\s\\S]+)?$/,use:\"file-loader\"}]},plugins:[new a.HotModuleReplacementPlugin,new a.NoEmitOnErrorsPlugin]};var l,i;e.exports=n,(l=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(s,\"CURRENT_WORKING_DIR\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/webpack.config.client.js\"),l.register(n,\"config\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/webpack.config.client.js\")),(i=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,t(28)(e))},function(e,r,t){\"use strict\";(function(e){var o,a=t(2),s=t.n(a),n=t(10),l=t.n(n),i=t(14),d=t.n(i),c=t(15),u=t.n(c),f=(t(25),t(16)),p=t.n(f),b=t(17),v=t(18),g=t(21),h=t(22),k=t(9),y=t.n(k);(o=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const m=process.cwd(),H=s()();H.use(l.a.json()),H.use(l.a.urlencoded({extended:!0})),H.use(d()()),H.use(u()()),H.use(p()()),H.use(\"/\",v.a),H.use(\"/\",g.a),H.use(\"/dist\",s.a.static(y.a.join(m,\"dist\"))),H.get(\"/\",(e,r)=>{r.status(200).send(Object(b.a)())}),H.use((e,r,t,o)=>{\"Unauthorized error\"===e.name?t.status(401).json({error:e.name+\": \"+e.message}):e&&(t.status(400).json({error:e.name+\": \"+e.message}),console.log(e))}),h.a.compile(H);const G=H;var P,L;r.a=G,(P=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(P.register(m,\"CURRENT_WORKING_DIR\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/express.js\"),P.register(H,\"app\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/express.js\"),P.register(G,\"default\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/express.js\")),(L=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&L(e)}).call(this,t(0)(e))},function(e,r){e.exports=require(\"cookie-parser\")},function(e,r){e.exports=require(\"compression\")},function(e,r){e.exports=require(\"cors\")},function(e,r,t){\"use strict\";(function(e){var t;(t=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&t(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const o=()=>'<!doctype html>\\n      <html lang=\"en\">\\n        <head>\\n          <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:100,300,400\">\\n          <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\\n          <meta charset=\"utf-8\">\\n          <title>MERN Backend</title>\\n        </head>\\n        <body>\\n          <div id=\"root\"></div>\\n          <script type=\"text/javascript\" src=\"/dist/bundle.js\"><\\/script>\\n        </body>\\n      </html>';var a,s;r.a=o,(a=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(o,\"default\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/template.js\"),(s=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,t(0)(e))},function(e,r,t){\"use strict\";(function(e){var o,a=t(2),s=t.n(a),n=t(4);t(7);(o=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=s.a.Router();l.route(\"/api/users\").get(n.a.list).post(n.a.create),l.route(\"/api/users/:userId\").get(n.a.read).put(n.a.update).delete(n.a.remove),l.param(\"userId\",n.a.userByID);const i=l;var d,c;r.a=i,(d=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(l,\"router\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/routes/user.routes.js\"),d.register(i,\"default\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/routes/user.routes.js\")),(c=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,t(0)(e))},function(e,r){e.exports=require(\"lodash/extend\")},function(e,r){e.exports=require(\"jsonwebtoken\")},function(e,r,t){\"use strict\";(function(e){var o,a=t(2),s=t.n(a),n=t(7);(o=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const l=s.a.Router();l.route(\"/auth/signin\").post(n.a.signin),l.route(\"/auth/signout\").get(n.a.signout);const i=l;var d,c;r.a=i,(d=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(l,\"router\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/routes/auth.routes.js\"),d.register(i,\"default\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/routes/auth.routes.js\")),(c=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,t(0)(e))},function(e,r,t){\"use strict\";(function(e){var o,a=t(1),s=t(8),n=t.n(s),l=(t(27),t(11)),i=t.n(l),d=t(12),c=t.n(d);(o=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;const u=e=>{if(\"development\"===a.a.env){const r=n()(c.a),t=i()(r,{publicPath:c.a.output.publicPath});e.use(t),e.use(i()(r))}},f={compile:u};var p,b;r.a=f,(p=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(u,\"compile\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/devBundle.js\"),p.register(f,\"default\",\"/Users/elifturan/Desktop/2020/Personal/CS/fullStackPractice/backendMERN/server/devBundle.js\")),(b=\"undefined\"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)}).call(this,t(0)(e))},function(e,r,t){e.exports=t(24)},function(e,r,t){\"use strict\";t.r(r);var o=t(1),a=t(13),s=t(3),n=t.n(s);\"undefined\"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;a.a.listen(o.a.port,e=>{e&&console.log(e),console.info(\"Server started on port %s.\",o.a.port)}),n.a.Promise=global.Promise,n.a.connect(o.a.mongoUri,{useNewUrlParser:!0,useCreateIndex:!0,useUnifiedTopology:!0}),n.a.connection.on(\"error\",()=>{throw new Error(\"unable to connect to database: \"+mongoUri)})},function(e,r){e.exports=require(\"helmet\")},function(e,r){e.exports=require(\"express-jwt\")},function(e,r){e.exports=require(\"webpack-dev-middleware\")},function(e,r){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}]);","extractedComments":[]}